/*********************************************************************
	微 雪 电 子   WaveShare   http://www.waveShare.net            	
		                                                            
项目名称:   DS18B20示例程序
		
目标系统:   “DVK501” && “M16+ EX”

应用软件:   ICCAVR 6.31A                                             
		                                                                
版    本:   V1.0 
                                                        
圆版时间:   2009-7-1

开发人员:   zz

说    明:   若用于商业用途，请保留此段文字或注明代码来源
		
	深 圳 市 微 雪 电 子 有 限 公 司 保 留 所 有 的 版 权     
*********************************************************************/

/*01010101010101010101010101010101010101010101010101010101010101010101
----------------------------------------------------------------------
版本更新记录：

----------------------------------------------------------------------
实验内容：
使用开发板的LED指示灯查看DS18B20转换而来的温度
----------------------------------------------------------------------
硬件连接： 
		 	  DVK501				 ATmega16
				DQ	    ---------	  PB2
				PA7:0	---------	  LED7:0
----------------------------------------------------------------------
注意事项：
（1）若有加载库函数，请将光盘根目录下的“库函数”下的“ICC_H”文件夹拷到D盘
（2）请详细阅读“使用必读”及相关资料。
----------------------------------------------------------------------
10101010101010101010101010101010101010101010101010101010101010101010*/
#include <iom48v.h>
#include <macros.h>
#include "D:\ICC_H\CmmICC.H"
/*DQ使用PB0口*/
#define DDRx DDRB
#define PORTx PORTB 
#define PINx PINB
#define ds18b20_dq 2
#include "D:\ICC_H\DS18B20_DVK501.H"
//----端口初始化----

void main(void)
{	
	DDRA=0xFF;
	while(1)
	{
		delay50ms(20);
		PORTA=read_temperature();	//把转换出来温度通过PD口显示
	}
}