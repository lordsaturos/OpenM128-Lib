/*********************************************************************
	微 雪 电 子   WaveShare   http://www.waveShare.net            	
		                                                            
项目名称:   DS18B20示例程序
		
目标系统:   “DVK501” && “M128 EX+”

应用软件:   ICCAVR 6.31A                                             
		                                                                
版    本:   V1.0 
                                                        
圆版时间:   2009-7-1

开发人员:   zz

说    明:   若用于商业用途，请保留此段文字或注明代码来源
		
	深 圳 市 微 雪 电 子 有 限 公 司 保 留 所 有 的 版 权     
*********************************************************************/

/*01010101010101010101010101010101010101010101010101010101010101010101
----------------------------------------------------------------------
版本更新记录：

----------------------------------------------------------------------
实验内容：
使用DVK501的LCD12864显示屏查看DS18B20转换而来的温度
----------------------------------------------------------------------
硬件连接： 
		 	  DVK501				 M128 EX+
				DQ	    ---------	  PB5
				PA7:0	---------	  LED7:0
				
				CS		---------	  VCC
				PSB	    ---------	  GND
				SID		---------	  PB2
				CLK		---------	  PB1
----------------------------------------------------------------------
注意事项：
（1）若有加载库函数，请将光盘根目录下的“库函数”下的“ICC_H”文件夹拷到D盘
（2）请详细阅读“使用必读”及相关资料。
----------------------------------------------------------------------
10101010101010101010101010101010101010101010101010101010101010101010*/
#include <iom128v.h>
#include <macros.h>
#include "D:\ICC_H\CmmICC.H"
#include "D:\ICC_H\PCF8574.H"
void port_init(void)
{
    PORTA = 0x00;
    DDRA  = 0xFF;
    PORTB = 0x01;
    DDRB  = 0xFE;
    PORTC = 0x03; 
    DDRC  = 0x00;
    PORTD = 0x00;
    DDRD  = 0xFF;
}
void main(void)
{
	unsigned char NO;
	port_init();
	for(NO=0;NO<255;NO++)		//写数据
	{
		Write_PCF8574(NO);
		delay50ms(2);
	}
	while(1)
	{
		PORTA=Read_PCF8574();	//读数据(在PA口显示出来)
		delay50ms(2);
	}
}